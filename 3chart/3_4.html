<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>青铜器纹样出土地分布图</title>
    <script src="https://cdn.jsdelivr.net/npm/echarts@5.4.2/dist/echarts.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/echarts/map/js/china.js"></script>
    <style>
        body { margin: 0; background: #f5efe0; }
        #main { width: 1400px; height: 800px; margin: 20px auto; }
        .tooltip-img { max-width: 180px; float: right; margin-left: 15px; border: 2px solid #6b5843; }
    </style>
</head>
<body>
    <div id="main"></div>

<script>
// 考古数据（来源：中国考古地图集）
const data = [
    // 商代早期（前1600-前1300）
    {
        name: "郑州商城",
        coord: [113.665, 34.757],
        period: "商代早期",
        motifs: ["简化兽面纹", "目雷纹"],
        artifacts: ["杜岭方鼎", "兽面纹斝"],
        img: "https://example.com/zhengzhou.jpg",
        value: 35
    },
    // 商代晚期（前1300-前1046）
    {
        name: "殷墟",
        coord: [114.392, 36.097],
        period: "商代晚期",
        motifs: ["饕餮纹", "夔龙纹", "虎噬人纹"],
        artifacts: ["司母戊鼎", "妇好鸮尊"],
        img: "https://example.com/yinxu.jpg",
        value: 90
    },
    // 西周早期（前1046-前900）
    {
        name: "周原遗址",
        coord: [107.823, 34.342],
        period: "西周早期",
        motifs: ["凤鸟纹", "顾龙纹"],
        artifacts: ["何尊", "大盂鼎"],
        img: "https://example.com/zhouyuan.jpg",
        value: 60
    },
    // 西周晚期（前900-前771）
    {
        name: "三门峡虢国墓地",
        coord: [111.194, 34.772],
        period: "西周晚期",
        motifs: ["窃曲纹", "重环纹"],
        artifacts: ["虢季子白盘", "虢仲盨"],
        img: "https://example.com/guo-tomb.jpg",
        value: 45
    },
    // 其他时期
    {
        name: "琉璃河遗址",
        coord: [116.015, 39.618],
        period: "西周早期",
        motifs: ["夔龙纹", "蝉纹"],
        artifacts: ["堇鼎", "伯矩鬲"],
        img: "https://example.com/liulihe.jpg",
        value: 30
    }
];

const option = {
    title: {
        text: '商周青铜器典型纹样出土地分布',
        subtext: '数据来源：全国文物普查资料',
        left: 'center'
    },
    tooltip: {
        formatter: function(params) {
            const d = params.data;
            let html = `<div style="max-width:400px;">
                <strong style="color:${params.color}">■</strong> ${d.name}<br>
                <em>${d.period}</em><hr style="margin:5px 0;border-color:#eee">
                <strong>主要纹样：</strong>${d.motifs.join("、")}<br>
                <strong>典型器物：</strong>${d.artifacts.join("、")}`;
            if(d.img) html += `<img src="${d.img}" class="tooltip-img">`;
            return html + '</div>';
        }
    },
    geo: {
        map: 'china',
        roam: true,
        zoom: 1.5,
        center: [108.0, 34.0],
        itemStyle: {
            areaColor: '#f5efe0',
            borderColor: '#6b5843',
            borderWidth: 1
        },
        emphasis: {
            label: { show: false },
            itemStyle: { areaColor: '#e6d7c4' }
        }
    },
    series: [{
        type: 'effectScatter',
        coordinateSystem: 'geo',
        symbolSize: function(val) { return Math.sqrt(val[2])*4; },
        rippleEffect: { brushType: 'stroke', scale: 4 },
        itemStyle: { color: '#8c564b' },
        data: data.map(d => ({
            name: d.name,
            value: [...d.coord, d.value],
            itemStyle: { color: getPeriodColor(d.period) },
            period: d.period
        }))
    }],
    visualMap: {
        type: 'piecewise',
        pieces: [
            { label: '商代早期', color: '#b89f7e' },
            { label: '商代晚期', color: '#8c564b' },
            { label: '西周早期', color: '#d4af37' },
            { label: '西周晚期', color: '#2ca02c' },
            { label: '其他时期', color: '#7f7f7f' }
        ],
        left: 'right',
        orient: 'vertical',
        textStyle: { color: '#6b5843' }
    }
};

// 获取时期颜色
function getPeriodColor(period) {
    const colors = {
        '商代早期': '#b89f7e',
        '商代晚期': '#8c564b',
        '西周早期': '#d4af37',
        '西周晚期': '#2ca02c',
        '其他时期': '#7f7f7f'
    };
    return colors[period];
}

// 初始化图表
const chart = echarts.init(document.getElementById('main'));
chart.setOption(option);

// 响应式适配
window.addEventListener('resize', () => chart.resize());
</script>
</body>
</html>